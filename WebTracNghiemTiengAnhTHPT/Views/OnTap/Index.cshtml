@model WebTracNghiemTiengAnhTHPT.Models.KyThi

@{
    ViewBag.Title = "Ôn tập";
    Layout = "~/Views/Shared/LayoutWeb.cshtml";
    var allDangBais = Session["AllDangBais"] as List<WebTracNghiemTiengAnhTHPT.Models.DangBai>;
}

@if (TempData["Success"] != null)
{
    <div class="alert alert-success">@TempData["Success"]</div>
}

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}

<h2 class="text-center my-4">Ôn tập</h2>

<form method="post" action="@Url.Action("AutoGenerateExam", "OnTap")">
    <div class="row">
        <!-- Cột bên trái: Số lượng câu hỏi trong CSDL -->
<<<<<<< HEAD
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">Câu hỏi trong CSDL</h3>
                </div>
                <div class="card-body">
                    <p><strong>Tổng số lượng câu hỏi:</strong> <span>@ViewBag.TotalQuestions</span></p>
                    <p><strong>Số lượng câu hỏi dễ:</strong> <span>@ViewBag.EasyQuestions</span></p>
                    <p><strong>Số lượng câu hỏi khó:</strong> <span>@ViewBag.HardQuestions</span></p>
                </div>
=======
        <div style="flex: 1; margin-right: 10px;">
            <h3>Câu hỏi trong CSDL</h3>
            <div>
                <label>Tổng số lượng câu hỏi <span>@ViewBag.TotalQuestions</span></label>
            </div>
            <div>
                <label>Số lượng câu hỏi dễ: <span>@ViewBag.EasyQuestions</span></label>
            </div>
            <div>
                <label>Số lượng câu hỏi khó: <span>@ViewBag.HardQuestions</span></label>
>>>>>>> 1a05bc59cada444b9e0a72dce0890e5dafa4b61e
            </div>
        </div>

        <!-- Cột bên phải: Lựa chọn số câu hỏi -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">Lựa chọn số câu hỏi</h3>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label for="SoCauHoiDe" class="form-label">Số lượng câu hỏi dễ trong đề thi:</label>
                        <input type="number" class="form-control" id="SoCauHoiDe" name="SoCauHoiDe" min="0" max="@ViewBag.EasyQuestions" required />
                    </div>
                    <div class="mb-3">
                        <label for="SoCauHoiKho" class="form-label">Số lượng câu hỏi khó trong đề thi:</label>
                        <input type="number" class="form-control" id="SoCauHoiKho" name="SoCauHoiKho" min="0" max="@ViewBag.HardQuestions" required />
                    </div>
                    <div class="mb-3">
                        <label for="ThoiGian" class="form-label">Thời gian đề thi (phút):</label>
                        <select class="form-select" id="ThoiGian" name="ThoiGian" required>
                            @for (int i = 10; i <= 120; i += 10)
                            {
                                <option value="@i">@i phút</option>
                            }
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

<<<<<<< HEAD
    <!-- Nút tạo đề thi -->
    <div class="text-center my-4">
        <input type="submit" class="btn btn-success btn-lg px-5" value="Tạo Đề Thi" />
    </div>
</form>

<!-- Phần lịch sử làm bài ôn tập -->
<div class="col-lg-3 col-12 mt-5">
    <div class="card shadow-sm">
        <div class="card-header bg-secondary text-white">
            <h4 class="mb-0">Lịch sử làm bài ôn tập</h4>
        </div>
        <div class="card-body">
            @Html.Action("PartialLichSuLamBaiOnTap", "Contests")
        </div>
    </div>
=======
    <!-- Dạng câu hỏi -->
    <div>
        <h4>Dạng câu hỏi</h4>
        <ul id="ss" class="dangbai-list"></ul>

        <h4>Thêm dạng câu hỏi</h4>
        @if (allDangBais != null && allDangBais.Any())
        {
            <select id="dangBaiList" class="form-control">
                @foreach (var dangBai in allDangBais)
                {
                    <option value="@dangBai.MaLoai">@dangBai.TenLoai</option>
                }
            </select>
            <button type="button" id="addDangBaiButton" class="btn btn-primary mt-2">Add</button>
        }
    </div>

    <input type="hidden" id="ssInput" name="Seleted" value="" />

    <div>
        <input type="submit" value="Tạo Đề Thi" />
    </div>
</form>

<div class="col-lg-3 col-12" id="partiview">
    @Html.Action("PartialLichSuLamBaiOnTap", "Contests")
>>>>>>> 1a05bc59cada444b9e0a72dce0890e5dafa4b61e
</div>


<style>
    form {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    h3 {
        margin-top: 0;
        color: #333;
    }

    div {
        margin-bottom: 15px;
    }

    label {
        display: block;
        font-weight: bold;
        margin-bottom: 5px;
    }

    input[type="number"], select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }

    input[type="submit"] {
<<<<<<< HEAD
        background-image: linear-gradient(90.57deg, rgb(62, 101, 254) 0%, rgb(210, 60, 255) 100%) !important;
        color: white; /* Màu chữ trắng */
        border: none; /* Bỏ đường viền */
        padding: 10px 15px; /* Đệm cho nút */
        border-radius: 4px; /* Bo tròn các góc */
        cursor: pointer; /* Thay đổi con trỏ khi di chuột qua */
        transition: background-color 0.3s; /* Hiệu ứng chuyển đổi màu nền */
        border-radius: 5px;
    }
    input[type="submit"]:hover{
        transform: scale(1.1) translate(0);
    }
</style>
=======
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

        input[type="submit"]:hover {
            background-color: #45a049;
        }

    .dangbai-list {
        list-style-type: none;
        padding: 0;
    }

        .dangbai-list li, .dangbai-list div {
            padding: 10px;
            border: 1px solid #ddd;
            margin-bottom: 5px;
            border-radius: 4px;
            background-color: #f9f9f9;
            display: inline-flex;
            justify-content: space-between;
            align-items: center;
        }

            .dangbai-list li button, .dangbai-list div button {
                margin-left: 10px;
                background: none;
                border: none;
                color: red;
                font-size: 1.2em;
                cursor: pointer;
            }

                .dangbai-list li button:hover, .dangbai-list div button:hover {
                    color: darkred;
                }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var ss = [];
        var maxTypes = 3;

        document.getElementById("addDangBaiButton").addEventListener("click", function () {
            var dangBaiList = document.getElementById("dangBaiList");
            var selectedValue = dangBaiList.value;
            var selectedText = dangBaiList.options[dangBaiList.selectedIndex].text;

            if (ss.length < maxTypes && !ss.includes(selectedValue)) {
                ss.push(selectedValue);
                var li = document.createElement("li");
                li.textContent = selectedText + " ";
                var removeButton = document.createElement("button");
                removeButton.textContent = "×";
                removeButton.type = "button";
                removeButton.onclick = function () {
                    ss = ss.filter(function (item) {
                        return item !== selectedValue;
                    });
                    li.remove();
                    document.getElementById("ssInput").value = ss.join(",");
                };
                li.appendChild(removeButton);
                document.getElementById("ss").appendChild(li);
                document.getElementById("ssInput").value = ss.join(",");
                console.log(document.getElementById("ssInput").value)

            } else {
                alert("Chỉ có thể thêm tối đa 3 dạng bài.");
            }
        });
    });
</script>
>>>>>>> 1a05bc59cada444b9e0a72dce0890e5dafa4b61e
